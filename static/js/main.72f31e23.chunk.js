(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(33)},19:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),s=n.n(r),c=(n(19),n(2)),o=n(3),l=n(5),u=n(4),d=n(6),h=n(13);function v(){window.dispatchEvent(new Event("resize"))}var m=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{default:{x:e.x,y:e.y,width:e.initialWidth,height:e.initialHeight},lockAspectRatio:e.lockAspectRatio,bounds:"parent",onResizeStop:v},e.children))},f=n(7),p=n(1),b=n(12),w=n.n(b),E=(n(25),function(e){return i.a.createElement("a",e,"\xd7")}),y=(n(27),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={intervalsElapsed:0,isPaused:!0,hidden:!1},n.dispatch=n.dispatch.bind(Object(p.a)(Object(p.a)(n))),n.tick=n.tick.bind(Object(p.a)(Object(p.a)(n))),n.startTimer=n.startTimer.bind(Object(p.a)(Object(p.a)(n))),n.pauseTimer=n.pauseTimer.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"dispatch",value:function(e){var t=this.timerReducer(this.state,e);this.setState(t)}},{key:"hide",value:function(){return{type:"HIDE"}}},{key:"startTimer",value:function(){var e=this;return clearInterval(this.timer),this.timer=setInterval(function(){return e.dispatch(e.tick())},1e3),this.dispatch(this.tick()),{type:"START"}}},{key:"pauseTimer",value:function(){return clearInterval(this.timer),{type:"PAUSE"}}},{key:"resetTimer",value:function(){return{type:"RESET"}}},{key:"tick",value:function(){return{type:"TICK"}}},{key:"timerReducer",value:function(e,t){switch(t.type){case"RESET":return Object(f.a)({},e,{intervalsElapsed:0});case"START":return Object(f.a)({},e,{isPaused:!1});case"PAUSE":return Object(f.a)({},e,{isPaused:!0});case"HIDE":return Object(f.a)({},e,{hidden:!0});case"TICK":return Object(f.a)({},e,{intervalsElapsed:e.intervalsElapsed+1});default:return e}}},{key:"render",value:function(){var e=this,t=this.state,n=t.intervalsElapsed,a=t.isPaused;return t.hidden?null:i.a.createElement("div",{className:"wrapper"},i.a.createElement(E,{className:"display-close",onClick:function(){return e.dispatch(e.hide())}},"\xd7"),i.a.createElement("div",{className:"timedisplay"},i.a.createElement(w.a,{minFontSize:24,parent:this.parentNode,compressor:.3},function(e){var t="0".concat(e%60);return"".concat(Math.floor(e/60),":").concat(t.slice(-2))}(n))),0!==n&&a?i.a.createElement("button",{onClick:function(){return e.dispatch(e.resetTimer())}},"Reset"):null,a||0===n?i.a.createElement("button",{onClick:function(){return e.dispatch(e.startTimer())}},"Start"):"",a||0===n?"":i.a.createElement("button",{onClick:function(){return e.dispatch(e.pauseTimer())}},"Stop"))}}]),t}(i.a.PureComponent)),k=(n(29),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hidden:!1},n.hide=n.hide.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){s.a.findDOMNode(this.refs.webcam).srcObject=this.props.srcObject}},{key:"hide",value:function(){this.setState({hidden:!0})}},{key:"render",value:function(){return this.state.hidden?null:i.a.createElement("div",{className:"resize-wrapper"},i.a.createElement(E,{onClick:this.hide,className:"display-close"}),i.a.createElement("video",{ref:"webcam",className:this.props.className,autoPlay:!0}))}}]),t}(i.a.PureComponent)),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={streams:[],devices:[]},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.startDevices()}},{key:"setDevices",value:function(e){this.setState({devices:e}),this.startWebcams()}},{key:"setNewError",value:function(e){var t=this.state.errors?this.state.errors.slice():[];t.push(e),this.setState({errors:t})}},{key:"startVideo",value:function(e){var t={video:{width:1280,height:720},deviceId:{exact:e}};navigator.mediaDevices.getUserMedia({video:t}).then(this.startVideoCb.bind(this)).catch(this.setNewError.bind(this))}},{key:"startVideoCb",value:function(e){var t=this.state.streams.slice();t.push(e),this.setState({streams:t})}},{key:"startWebcams",value:function(){var e=this,t=!1;this.state.devices.forEach(function(n){"videoinput"===n.kind&&(e.startVideo(n.deviceId),t=!0)}),t||this.setNewError({message:"No video input found, please connect a webcam."})}},{key:"startDevices",value:function(){navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(this.setDevices.bind(this)).catch(this.setNewError.bind(this)):this.setNewError({message:"Sorry, navigator or navigator.mediaDevices does not seem to be available in this browser!"})}},{key:"render",value:function(){return this.state?this.state.errors?i.a.createElement("div",{style:{marginLeft:20}},i.a.createElement("h3",null,"Error"),i.a.createElement("ul",{className:"errors"},this.state.errors.map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("p",null,e.name),i.a.createElement("p",null,e.message))}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(m,{initialWidth:100,initialHeight:100,x:window.innerWidth-150,y:50},i.a.createElement(y,null)),this.state.streams.map(function(e,t){return i.a.createElement(m,{key:t,initialWidth:400,initialHeight:300,x:window.innerWidth/2*t+50,y:window.innerHeight/2-150},i.a.createElement(k,{srcObject:e}))})):null}}]),t}(i.a.PureComponent),j=(n(31),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(g,null))}}]),t}(a.Component)),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(i.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/webcamdisplay-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/webcamdisplay-react","/service-worker.js");O?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):T(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):T(t,e)})}}()}},[[14,2,1]]]);
//# sourceMappingURL=main.72f31e23.chunk.js.map