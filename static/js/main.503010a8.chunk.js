(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(33)},19:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),s=a.n(r),c=(a(19),a(2)),u=a(3),o=a(5),l=a(4),d=a(6),h=a(13);function m(){window.dispatchEvent(new Event("resize"))}var v=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{default:{x:e.x,y:e.y,width:e.initialWidth,height:e.initialHeight},lockAspectRatio:e.lockAspectRatio,bounds:"parent",onResizeStop:m},e.children))},p=a(7),b=a(1),f=a(12),E=a.n(f),y=(a(25),function(e){return i.a.createElement("a",e,"\xd7")}),O=(a(27),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={intervalsElapsed:0,isPaused:!0,hidden:!1},a.dispatch=a.dispatch.bind(Object(b.a)(Object(b.a)(a))),a.tick=a.tick.bind(Object(b.a)(Object(b.a)(a))),a.startTimer=a.startTimer.bind(Object(b.a)(Object(b.a)(a))),a.pauseTimer=a.pauseTimer.bind(Object(b.a)(Object(b.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"dispatch",value:function(e){var t=this.timerReducer(this.state,e);this.setState(t)}},{key:"hide",value:function(){return{type:"HIDE"}}},{key:"startTimer",value:function(){var e=this;return clearInterval(this.timer),this.timer=setInterval(function(){return e.dispatch(e.tick())},1e3),this.dispatch(this.tick()),{type:"START"}}},{key:"pauseTimer",value:function(){return clearInterval(this.timer),{type:"PAUSE"}}},{key:"resetTimer",value:function(){return{type:"RESET"}}},{key:"tick",value:function(){return{type:"TICK"}}},{key:"timerReducer",value:function(e,t){switch(t.type){case"RESET":return Object(p.a)({},e,{intervalsElapsed:0});case"START":return Object(p.a)({},e,{isPaused:!1});case"PAUSE":return Object(p.a)({},e,{isPaused:!0});case"HIDE":return Object(p.a)({},e,{hidden:!0});case"TICK":return Object(p.a)({},e,{intervalsElapsed:e.intervalsElapsed+1});default:return e}}},{key:"render",value:function(){var e=this,t=this.state,a=t.intervalsElapsed,n=t.isPaused;return t.hidden?null:i.a.createElement("div",{className:"wrapper"},i.a.createElement(y,{className:"display-close",onClick:function(){return e.dispatch(e.hide())}},"\xd7"),i.a.createElement("div",{className:"timedisplay"},i.a.createElement(E.a,{minFontSize:24,parent:this.parentNode,compressor:.3},function(e){var t="0".concat(e%60);return"".concat(Math.floor(e/60),":").concat(t.slice(-2))}(a))),0!==a&&n?i.a.createElement("button",{onClick:function(){return e.dispatch(e.resetTimer())}},"Reset"):null,n||0===a?i.a.createElement("button",{onClick:function(){return e.dispatch(e.startTimer())}},"Start"):"",n||0===a?"":i.a.createElement("button",{onClick:function(){return e.dispatch(e.pauseTimer())}},"Stop"))}}]),t}(i.a.PureComponent)),j=(a(29),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={hidden:!1},a.hide=a.hide.bind(Object(b.a)(Object(b.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){s.a.findDOMNode(this.refs.webcam).srcObject=this.props.srcObject}},{key:"hide",value:function(){this.setState({hidden:!0})}},{key:"render",value:function(){return this.state.hidden?null:i.a.createElement("div",{className:"resize-wrapper"},i.a.createElement(y,{onClick:this.hide,className:"display-close"}),i.a.createElement("video",{ref:"webcam",className:this.props.className,autoPlay:!0}))}}]),t}(i.a.PureComponent)),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={streams:[],devices:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.startDevices()}},{key:"setDevices",value:function(e){this.setState({devices:e}),this.startWebcams()}},{key:"setNewError",value:function(e){var t=this.state.errors?this.state.errors.slice():[];t.push(e),this.setState({errors:t})}},{key:"startVideo",value:function(e){var t={video:{width:1280,height:720},deviceId:{exact:e}};navigator.mediaDevices.getUserMedia({video:t}).then(this.startVideoCb.bind(this)).catch(this.setNewError.bind(this))}},{key:"startVideoCb",value:function(e){var t=this.state.streams.slice();t.push(e),this.setState({streams:t})}},{key:"startWebcams",value:function(){var e=this,t=!1;this.state.devices.forEach(function(a){"videoinput"===a.kind&&(e.startVideo(a.deviceId),t=!0)}),t||this.setNewError({message:"No video input found, please connect a webcam."})}},{key:"startDevices",value:function(){navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(this.setDevices.bind(this)).catch(this.setNewError.bind(this)):this.setNewError({message:"Sorry, navigator or navigator.mediaDevices does not seem to be available in this browser!"})}},{key:"render",value:function(){return this.state?this.state.errors?i.a.createElement("div",{style:{marginLeft:20}},i.a.createElement("h3",null,"Error"),i.a.createElement("ul",{className:"errors"},this.state.errors.map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("p",null,e.name),i.a.createElement("p",null,e.message))}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(v,{initialWidth:100,initialHeight:100,x:window.innerWidth-150,y:50},i.a.createElement(O,null)),this.state.streams.map(function(e,t){return i.a.createElement(v,{key:t,initialWidth:400,initialHeight:300,x:window.innerWidth/2*t+50,y:window.innerHeight/2-150},i.a.createElement(j,{srcObject:e}))})):null}}]),t}(i.a.PureComponent),w=(a(31),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(k,null))}}]),t}(n.Component));s.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[14,2,1]]]);
//# sourceMappingURL=main.503010a8.chunk.js.map